var ge=Object.defineProperty;var Jt=n=>{throw TypeError(n)};var me=(n,t,e)=>t in n?ge(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var s=(n,t,e)=>me(n,typeof t!="symbol"?t+"":t,e),Kt=(n,t,e)=>t.has(n)||Jt("Cannot "+e);var o=(n,t,e)=>(Kt(n,t,"read from private field"),e?e.call(n):t.get(n)),u=(n,t,e)=>t.has(n)?Jt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),Tt=(n,t,e,r)=>(Kt(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),G=(n,t,e)=>(Kt(n,t,"access private method"),e);import{c as I,a as v,p as ee,f as Bt,o as Rt}from"./zguDtZw-.js";import{b as F,g as i,e as c,u as h,i as ne,k as be,p as Lt,f as x,n as Et,a as Wt,ac as Qt,c as Y,r as q,at as ve}from"./SIFgIYqZ.js";import{s as K,g as U}from"./CCdH-GF7.js";import{p as d,i as z,s as Xt,r as re}from"./D4OMRqmI.js";import{f as Me,b as f,w as It,a as bt,q as oe,l as se,r as we,i as ye,t as Ce,m as j,o as ke,c as ie,e as _e}from"./BAOWbDue.js";import{A as ue,P as Pe,H as Ae,b as Te,e as Fe,E as Se,d as ae,S as Ht,C as vt,T as Ee,n as Ft}from"./BVjinSze.js";import{u as Ie,F as xe,P as Oe,a as De,g as Zt,c as Ne}from"./B2ByiyBM.js";import{d as Vt,a as ce,t as Ke,e as Re,f as Ge,F as Be,D as Le,h as R,b as Q,j as We,i as $t,k as He,C as Ve}from"./DLenizsP.js";import{u as Ye}from"./CM2Qy78Q.js";import{u as qe}from"./RONkA9YH.js";const Ue=[ae,Ht],ze=[ue,Pe,Ae],pe=[Te,Fe,Se],je=[...ze,...pe];function Je(n){return n==="indeterminate"}function Qe(n){return Je(n)?"indeterminate":n?"checked":"unchecked"}function te(n){return n.pointerType==="mouse"}function J(){return{getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"}}function Xe(n,t){if(!Vt(n,J()))return Ze(n,t);const e=ce(n),r=Ke(e.body,J());t==="prev"&&r.reverse();const a=r.indexOf(n);return a===-1?e.body:r.slice(a+1)[0]}function Ze(n,t){const e=ce(n);if(!Re(n,J()))return e.body;const r=Ge(e.body,J());t==="prev"&&r.reverse();const a=r.indexOf(n);return a===-1?e.body:r.slice(a+1).find(C=>Vt(C,J()))??e.body}const Yt=new vt("Menu.Root"),qt=new vt("Menu.Root | Menu.Sub"),Ut=new vt("Menu.Content"),$e=new vt("Menu.Group | Menu.RadioGroup"),Fn=new vt("Menu.CheckboxGroup"),tn=new Ve("bitsmenuopen",{bubbles:!1,cancelable:!0}),en=Me({component:"menu",parts:["trigger","content","sub-trigger","item","group","group-heading","checkbox-group","checkbox-item","radio-group","radio-item","separator","sub-content","arrow"]});var X,Z;class nn{constructor(t){s(this,"opts");s(this,"isUsingKeyboard",new Gt);u(this,X,F(!1));u(this,Z,F(!1));s(this,"getBitsAttr",t=>en.getAttr(t,this.opts.variant.current));this.opts=t}get ignoreCloseAutoFocus(){return i(o(this,X))}set ignoreCloseAutoFocus(t){c(o(this,X),t,!0)}get isPointerInTransit(){return i(o(this,Z))}set isPointerInTransit(t){c(o(this,Z),t,!0)}}X=new WeakMap,Z=new WeakMap;var $,tt;class rn{constructor(t,e,r){s(this,"opts");s(this,"root");s(this,"parentMenu");s(this,"contentId",f.with(()=>""));u(this,$,F(null));u(this,tt,F(null));this.opts=t,this.root=e,this.parentMenu=r,r&&It(()=>r.opts.open.current,()=>{r.opts.open.current||(this.opts.open.current=!1)})}get contentNode(){return i(o(this,$))}set contentNode(t){c(o(this,$),t,!0)}get triggerNode(){return i(o(this,tt))}set triggerNode(t){c(o(this,tt),t,!0)}toggleOpen(){this.opts.open.current=!this.opts.open.current}onOpen(){this.opts.open.current=!0}onClose(){this.opts.open.current=!1}}$=new WeakMap,tt=new WeakMap;var et,nt,rt,ot,st,O,de,St,it,ut;class on{constructor(t,e){u(this,O);s(this,"opts");s(this,"parentMenu");u(this,et,F(""));u(this,nt,0);u(this,rt);s(this,"rovingFocusGroup");u(this,ot,F(!1));u(this,st);s(this,"domContext");s(this,"onCloseAutoFocus",t=>{this.opts.onCloseAutoFocus.current(t),!(t.defaultPrevented||o(this,st))&&this.parentMenu.triggerNode&&Vt(this.parentMenu.triggerNode)&&this.parentMenu.triggerNode.focus()});s(this,"onOpenAutoFocus",t=>{if(t.defaultPrevented)return;t.preventDefault();const e=this.parentMenu.contentNode;e==null||e.focus()});u(this,it,h(()=>({open:this.parentMenu.opts.open.current})));u(this,ut,h(()=>({id:this.opts.id.current,role:"menu","aria-orientation":ye("vertical"),[this.parentMenu.root.getBitsAttr("content")]:"","data-state":oe(this.parentMenu.opts.open.current),onkeydown:this.onkeydown,onblur:this.onblur,onfocus:this.onfocus,dir:this.parentMenu.root.opts.dir.current,style:{pointerEvents:"auto"},...bt(this.opts.ref,t=>{be(()=>{this.parentMenu.contentNode!==t&&(this.parentMenu.contentNode=t)})})})));s(this,"popperProps",{onCloseAutoFocus:t=>this.onCloseAutoFocus(t)});this.opts=t,this.parentMenu=e,this.domContext=new Le(t.ref),e.contentId=t.id,Tt(this,st,t.isSub??!1),this.onkeydown=this.onkeydown.bind(this),this.onblur=this.onblur.bind(this),this.onfocus=this.onfocus.bind(this),this.handleInteractOutside=this.handleInteractOutside.bind(this),qe({contentNode:()=>this.parentMenu.contentNode,triggerNode:()=>this.parentMenu.triggerNode,enabled:()=>{var r;return this.parentMenu.opts.open.current&&!!((r=this.parentMenu.triggerNode)!=null&&r.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger")))},onPointerExit:()=>{this.parentMenu.opts.open.current=!1},setIsPointerInTransit:r=>{this.parentMenu.root.isPointerInTransit=r}}),Tt(this,rt,Ie({getActiveElement:()=>this.domContext.getActiveElement(),getWindow:()=>this.domContext.getWindow()}).handleTypeaheadSearch),this.rovingFocusGroup=Ye({rootNode:f.with(()=>this.parentMenu.contentNode),candidateAttr:this.parentMenu.root.getBitsAttr("item"),loop:this.opts.loop,orientation:f.with(()=>"vertical")}),It(()=>this.parentMenu.contentNode,r=>{if(!r)return;const a=()=>{R(()=>{this.parentMenu.root.isUsingKeyboard.current&&this.rovingFocusGroup.focusFirstCandidate()})};return tn.listen(r,a)}),ne(()=>{this.parentMenu.opts.open.current||this.domContext.getWindow().clearTimeout(o(this,nt))})}get search(){return i(o(this,et))}set search(t){c(o(this,et),t,!0)}get mounted(){return i(o(this,ot))}set mounted(t){c(o(this,ot),t,!0)}handleTabKeyDown(t){let e=this.parentMenu;for(;e.parentMenu!==null;)e=e.parentMenu;if(!e.triggerNode)return;t.preventDefault();const r=Xe(e.triggerNode,t.shiftKey?"prev":"next");r?(this.parentMenu.root.ignoreCloseAutoFocus=!0,e.onClose(),R(()=>{r.focus(),R(()=>{this.parentMenu.root.ignoreCloseAutoFocus=!1})})):this.domContext.getDocument().body.focus()}onkeydown(t){var b,M;if(t.defaultPrevented)return;if(t.key===Ee){this.handleTabKeyDown(t);return}const e=t.target,r=t.currentTarget;if(!Q(e)||!Q(r))return;const a=((b=e.closest(`[${this.parentMenu.root.getBitsAttr("content")}]`))==null?void 0:b.id)===this.parentMenu.contentId.current,m=t.ctrlKey||t.altKey||t.metaKey,C=t.key.length===1;if(this.rovingFocusGroup.handleKeydown(e,t)||t.code==="Space")return;const _=G(this,O,de).call(this);a&&!m&&C&&o(this,rt).call(this,t.key,_),((M=t.target)==null?void 0:M.id)===this.parentMenu.contentId.current&&je.includes(t.key)&&(t.preventDefault(),pe.includes(t.key)&&_.reverse(),We(_,{select:!1},()=>this.domContext.getActiveElement()))}onblur(t){var e,r;$t(t.currentTarget)&&$t(t.target)&&((r=(e=t.currentTarget).contains)!=null&&r.call(e,t.target)||(this.domContext.getWindow().clearTimeout(o(this,nt)),this.search=""))}onfocus(t){this.parentMenu.root.isUsingKeyboard.current&&R(()=>this.rovingFocusGroup.focusFirstCandidate())}onItemEnter(){return G(this,O,St).call(this)}onItemLeave(t){if(t.currentTarget.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger"))||G(this,O,St).call(this)||this.parentMenu.root.isUsingKeyboard.current)return;const e=this.parentMenu.contentNode;e==null||e.focus(),this.rovingFocusGroup.setCurrentTabStopId("")}onTriggerLeave(){return!!G(this,O,St).call(this)}handleInteractOutside(t){var r;if(!He(t.target))return;const e=(r=this.parentMenu.triggerNode)==null?void 0:r.id;if(t.target.id===e){t.preventDefault();return}t.target.closest(`#${e}`)&&t.preventDefault()}get snippetProps(){return i(o(this,it))}set snippetProps(t){c(o(this,it),t)}get props(){return i(o(this,ut))}set props(t){c(o(this,ut),t)}}et=new WeakMap,nt=new WeakMap,rt=new WeakMap,ot=new WeakMap,st=new WeakMap,O=new WeakSet,de=function(){const t=this.parentMenu.contentNode;return t?Array.from(t.querySelectorAll(`[${this.parentMenu.root.getBitsAttr("item")}]:not([data-disabled])`)):[]},St=function(){return this.parentMenu.root.isPointerInTransit},it=new WeakMap,ut=new WeakMap;var B,at;class he{constructor(t,e){s(this,"opts");s(this,"content");u(this,B,F(!1));u(this,at,h(()=>({id:this.opts.id.current,tabindex:-1,role:"menuitem","aria-disabled":Ce(this.opts.disabled.current),"data-disabled":se(this.opts.disabled.current),"data-highlighted":i(o(this,B))?"":void 0,[this.content.parentMenu.root.getBitsAttr("item")]:"",onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,onfocus:this.onfocus,onblur:this.onblur,...bt(this.opts.ref)})));this.opts=t,this.content=e,this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this)}onpointermove(t){if(!t.defaultPrevented&&te(t))if(this.opts.disabled.current)this.content.onItemLeave(t);else{if(this.content.onItemEnter())return;const r=t.currentTarget;if(!Q(r))return;r.focus()}}onpointerleave(t){t.defaultPrevented||te(t)&&this.content.onItemLeave(t)}onfocus(t){R(()=>{t.defaultPrevented||this.opts.disabled.current||c(o(this,B),!0)})}onblur(t){R(()=>{t.defaultPrevented||c(o(this,B),!1)})}get props(){return i(o(this,at))}set props(t){c(o(this,at),t)}}B=new WeakMap,at=new WeakMap;var ct,xt,fe,pt;class le{constructor(t,e){u(this,xt);s(this,"opts");s(this,"item");u(this,ct,!1);s(this,"root");u(this,pt,h(()=>j(this.item.props,{onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown})));this.opts=t,this.item=e,this.root=e.content.parentMenu.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this)}onkeydown(t){const e=this.item.content.search!=="";if(!(this.item.opts.disabled.current||e&&t.key===Ht)&&Ue.includes(t.key)){if(!Q(t.currentTarget))return;t.currentTarget.click(),t.preventDefault()}}onclick(t){this.item.opts.disabled.current||G(this,xt,fe).call(this)}onpointerup(t){var e;if(!t.defaultPrevented&&!o(this,ct)){if(!Q(t.currentTarget))return;(e=t.currentTarget)==null||e.click()}}onpointerdown(t){Tt(this,ct,!0)}get props(){return i(o(this,pt))}set props(t){c(o(this,pt),t)}}ct=new WeakMap,xt=new WeakSet,fe=function(){if(this.item.opts.disabled.current)return;const t=new CustomEvent("menuitemselect",{bubbles:!0,cancelable:!0});this.opts.onSelect.current(t),R(()=>{if(t.defaultPrevented){this.item.content.parentMenu.root.isUsingKeyboard.current=!1;return}this.opts.closeOnSelect.current&&this.item.content.parentMenu.root.opts.onClose()})},pt=new WeakMap;var dt,ht;class sn{constructor(t,e,r=null){s(this,"opts");s(this,"item");s(this,"group");u(this,dt,h(()=>({checked:this.opts.checked.current,indeterminate:this.opts.indeterminate.current})));u(this,ht,h(()=>({...this.item.props,role:"menuitemcheckbox","aria-checked":ke(this.opts.checked.current,this.opts.indeterminate.current),"data-state":Qe(this.opts.checked.current),[this.item.root.getBitsAttr("checkbox-item")]:""})));this.opts=t,this.item=e,this.group=r,this.group&&(It(()=>this.group.opts.value.current,a=>{this.opts.checked.current=a.includes(this.opts.value.current)}),It(()=>this.opts.checked.current,a=>{a?this.group.addValue(this.opts.value.current):this.group.removeValue(this.opts.value.current)}))}toggleChecked(){this.opts.indeterminate.current?(this.opts.indeterminate.current=!1,this.opts.checked.current=!0):this.opts.checked.current=!this.opts.checked.current}get snippetProps(){return i(o(this,dt))}set snippetProps(t){c(o(this,dt),t)}get props(){return i(o(this,ht))}set props(t){c(o(this,ht),t)}}dt=new WeakMap,ht=new WeakMap;var lt,ft;class un{constructor(t,e){s(this,"opts");s(this,"root");u(this,lt,F(void 0));u(this,ft,h(()=>({id:this.opts.id.current,role:"group","aria-labelledby":this.groupHeadingId,[this.root.getBitsAttr("group")]:"",...bt(this.opts.ref)})));this.opts=t,this.root=e}get groupHeadingId(){return i(o(this,lt))}set groupHeadingId(t){c(o(this,lt),t,!0)}get props(){return i(o(this,ft))}set props(t){c(o(this,ft),t)}}lt=new WeakMap,ft=new WeakMap;var gt;class an{constructor(t,e){s(this,"opts");s(this,"root");u(this,gt,h(()=>({id:this.opts.id.current,role:"group",[this.root.getBitsAttr("separator")]:"",...bt(this.opts.ref)})));this.opts=t,this.root=e}get props(){return i(o(this,gt))}set props(t){c(o(this,gt),t)}}gt=new WeakMap;var Ot,mt;class cn{constructor(t,e){s(this,"opts");s(this,"parentMenu");s(this,"onpointerdown",t=>{if(!this.opts.disabled.current){if(t.pointerType==="touch")return t.preventDefault();t.button===0&&t.ctrlKey===!1&&(this.parentMenu.toggleOpen(),this.parentMenu.opts.open.current||t.preventDefault())}});s(this,"onpointerup",t=>{this.opts.disabled.current||t.pointerType==="touch"&&(t.preventDefault(),this.parentMenu.toggleOpen())});s(this,"onkeydown",t=>{if(!this.opts.disabled.current){if(t.key===Ht||t.key===ae){this.parentMenu.toggleOpen(),t.preventDefault();return}t.key===ue&&(this.parentMenu.onOpen(),t.preventDefault())}});u(this,Ot,h(()=>{if(this.parentMenu.opts.open.current&&this.parentMenu.contentId.current)return this.parentMenu.contentId.current}));u(this,mt,h(()=>({id:this.opts.id.current,disabled:this.opts.disabled.current,"aria-haspopup":"menu","aria-expanded":we(this.parentMenu.opts.open.current),"aria-controls":i(o(this,Ot)),"data-disabled":se(this.opts.disabled.current),"data-state":oe(this.parentMenu.opts.open.current),[this.parentMenu.root.getBitsAttr("trigger")]:"",onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown,...bt(this.opts.ref,t=>this.parentMenu.triggerNode=t)})));this.opts=t,this.parentMenu=e}get props(){return i(o(this,mt))}set props(t){c(o(this,mt),t)}}Ot=new WeakMap,mt=new WeakMap;function pn(n){const t=new nn(n);return Be.set({get ignoreCloseAutoFocus(){return t.ignoreCloseAutoFocus}}),Yt.set(t)}function dn(n,t){return qt.set(new rn(t,n,null))}function hn(n){return new cn(n,qt.get())}function ln(n){return Ut.set(new on(n,qt.get()))}function Sn(n){const t=new he(n,Ut.get());return new le(n,t)}function En(n,t){const e=new le(n,new he(n,Ut.get()));return new sn(n,e,t)}function In(n){return $e.set(new un(n,Yt.get()))}function xn(n){return new an(n,Yt.get())}function On(n,t){Lt(t,!0);let e=d(t,"open",15,!1),r=d(t,"dir",3,"ltr"),a=d(t,"onOpenChange",3,Ft),m=d(t,"_internal_variant",3,"dropdown-menu");const C=pn({variant:f.with(()=>m()),dir:f.with(()=>r()),onClose:()=>{e(!1),a()(!1)}});dn(C,{open:f.with(()=>e(),k=>{e(k),a()(k)})}),xe(n,{children:(k,_)=>{var b=I(),M=x(b);K(M,()=>t.children??Et),v(k,b)},$$slots:{default:!0}}),Wt()}var fn=Bt("<div><div><!></div></div>"),gn=Bt("<div><div><!></div></div>");function Dn(n,t){const e=ee();Lt(t,!0);let r=d(t,"id",19,()=>ie(e)),a=d(t,"ref",15,null),m=d(t,"loop",3,!0),C=d(t,"onInteractOutside",3,Ft),k=d(t,"onEscapeKeydown",3,Ft),_=d(t,"onCloseAutoFocus",3,Ft),b=d(t,"forceMount",3,!1),M=re(t,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onEscapeKeydown","onCloseAutoFocus","forceMount"]);const l=ln({id:f.with(()=>r()),loop:f.with(()=>m()),ref:f.with(()=>a(),p=>a(p)),onCloseAutoFocus:f.with(()=>_())}),L=h(()=>j(M,l.props));function Mt(p){l.handleInteractOutside(p),!p.defaultPrevented&&(C()(p),!p.defaultPrevented&&l.parentMenu.onClose())}function wt(p){k()(p),!p.defaultPrevented&&l.parentMenu.onClose()}var yt=I(),S=x(yt);{var P=p=>{Oe(p,Xt(()=>i(L),()=>l.popperProps,{get ref(){return l.opts.ref},get enabled(){return l.parentMenu.opts.open.current},onInteractOutside:Mt,onEscapeKeydown:wt,trapFocus:!0,get loop(){return m()},forceMount:!0,get id(){return r()},popper:(Dt,w)=>{let jt=()=>w==null?void 0:w().props,Ct=()=>w==null?void 0:w().wrapperProps;var A=I();const kt=h(()=>j(jt(),{style:Zt("dropdown-menu")}));var _t=x(A);{var Pt=E=>{var T=I(),D=x(T),y=Qt(()=>({props:i(kt),wrapperProps:Ct(),...l.snippetProps}));K(D,()=>t.child,()=>i(y)),v(E,T)},At=E=>{var T=fn();U(T,()=>({...Ct()}));var D=Y(T);U(D,()=>({...i(kt)}));var y=Y(D);K(y,()=>t.children??Et),q(D),q(T),v(E,T)};z(_t,E=>{t.child?E(Pt):E(At,!1)})}v(Dt,A)},$$slots:{popper:!0}}))},W=(p,zt)=>{{var Dt=w=>{De(w,Xt(()=>i(L),()=>l.popperProps,{get ref(){return l.opts.ref},get present(){return l.parentMenu.opts.open.current},onInteractOutside:Mt,onEscapeKeydown:wt,trapFocus:!0,get loop(){return m()},forceMount:!1,get id(){return r()},popper:(Ct,A)=>{let kt=()=>A==null?void 0:A().props,_t=()=>A==null?void 0:A().wrapperProps;var Pt=I();const At=h(()=>j(kt(),{style:Zt("dropdown-menu")}));var E=x(Pt);{var T=y=>{var N=I(),H=x(N),Nt=Qt(()=>({props:i(At),wrapperProps:_t(),...l.snippetProps}));K(H,()=>t.child,()=>i(Nt)),v(y,N)},D=y=>{var N=gn();U(N,()=>({..._t()}));var H=Y(N);U(H,()=>({...i(At)}));var Nt=Y(H);K(Nt,()=>t.children??Et),q(H),q(N),v(y,N)};z(E,y=>{t.child?y(T):y(D,!1)})}v(Ct,Pt)},$$slots:{popper:!0}}))};z(p,w=>{b()||w(Dt)},zt)}};z(S,p=>{b()?p(P):p(W,!1)})}v(n,yt),Wt()}var mn=Bt("<button><!></button>");function Nn(n,t){const e=ee();Lt(t,!0);let r=d(t,"id",19,()=>ie(e)),a=d(t,"ref",15,null),m=d(t,"disabled",3,!1),C=d(t,"type",3,"button"),k=re(t,["$$slots","$$events","$$legacy","id","ref","child","children","disabled","type"]);const _=hn({id:f.with(()=>r()),disabled:f.with(()=>m()??!1),ref:f.with(()=>a(),M=>a(M))}),b=h(()=>j(k,_.props,{type:C()}));Ne(n,{get id(){return r()},get ref(){return _.opts.ref},children:(M,l)=>{var L=I(),Mt=x(L);{var wt=S=>{var P=I(),W=x(P);K(W,()=>t.child,()=>({props:i(b)})),v(S,P)},yt=S=>{var P=mn();U(P,()=>({...i(b)}));var W=Y(P);K(W,()=>t.children??Et),q(P),v(S,P)};z(Mt,S=>{t.child?S(wt):S(yt,!1)})}v(M,L)},$$slots:{default:!0}}),Wt()}let V=F(!1);const g=class g{constructor(){ne(()=>(g._refs===0&&(g._cleanup=ve(()=>{const t=[],e=a=>{c(V,!1)},r=a=>{c(V,!0)};return t.push(Rt(document,"pointerdown",e,{capture:!0}),Rt(document,"pointermove",e,{capture:!0}),Rt(document,"keydown",r,{capture:!0})),_e(...t)})),g._refs++,()=>{var t;g._refs--,g._refs===0&&(c(V,!1),(t=g._cleanup)==null||t.call(g))}))}get current(){return i(V)}set current(t){c(V,t,!0)}};s(g,"_refs",0),s(g,"_cleanup");let Gt=g;export{Dn as D,On as M,Sn as a,In as b,Nn as c,Fn as d,En as e,xn as u};
