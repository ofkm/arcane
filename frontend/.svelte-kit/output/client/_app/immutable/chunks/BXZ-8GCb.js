var A=e=>{throw TypeError(e)};var k=(e,t,s)=>t.has(e)||A("Cannot "+s);var r=(e,t,s)=>(k(e,t,"read from private field"),s?s.call(e):t.get(e)),c=(e,t,s)=>t.has(e)?A("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),g=(e,t,s,o)=>(k(e,t,"write to private field"),o?o.call(e,s):t.set(e,s),s),u=(e,t,s)=>(k(e,t,"access private method"),s);import{d as J}from"./BAOWbDue.js";import{b as N,g as S,e as T}from"./SIFgIYqZ.js";import{o as O}from"./zguDtZw-.js";import{c as R}from"./Hi6OfGhB.js";function V(e,t){switch(e){case"local":return t.localStorage;case"session":return t.sessionStorage}}var f,h,w,d,z,n,x,a,P,E;class W{constructor(t,s,o={}){c(this,a);c(this,f);c(this,h);c(this,w);c(this,d);c(this,z);c(this,n,N(0));c(this,x,t=>{t.key!==r(this,h)||t.newValue===null||(g(this,f,u(this,a,P).call(this,t.newValue)),T(r(this,n),S(r(this,n))+1))});const{storage:p="local",serializer:b={serialize:JSON.stringify,deserialize:JSON.parse},syncTabs:y=!0}=o,i="window"in o?o.window:J;if(g(this,f,s),g(this,h,t),g(this,w,b),i===void 0)return;const l=V(p,i);g(this,d,l);const m=l.getItem(t);m!==null?g(this,f,u(this,a,P).call(this,m)):u(this,a,E).call(this,s),y&&p==="local"&&g(this,z,R(()=>O(i,"storage",r(this,x))))}get current(){var b,y;(b=r(this,z))==null||b.call(this),S(r(this,n));const t=(y=r(this,d))==null?void 0:y.getItem(r(this,h)),s=t?u(this,a,P).call(this,t):r(this,f),o=new WeakMap,p=i=>{if(i===null||(i==null?void 0:i.constructor.name)==="Date"||typeof i!="object")return i;let l=o.get(i);return l||(l=new Proxy(i,{get:(m,I)=>(S(r(this,n)),p(Reflect.get(m,I))),set:(m,I,D)=>(T(r(this,n),S(r(this,n))+1),Reflect.set(m,I,D),u(this,a,E).call(this,s),!0)}),o.set(i,l)),l};return p(s)}set current(t){u(this,a,E).call(this,t),T(r(this,n),S(r(this,n))+1)}}f=new WeakMap,h=new WeakMap,w=new WeakMap,d=new WeakMap,z=new WeakMap,n=new WeakMap,x=new WeakMap,a=new WeakSet,P=function(t){try{return r(this,w).deserialize(t)}catch(s){console.error(`Error when parsing "${t}" from persisted store "${r(this,h)}"`,s);return}},E=function(t){var s;try{t!=null&&((s=r(this,d))==null||s.setItem(r(this,h),r(this,w).serialize(t)))}catch(o){console.error(`Error when writing value from persisted store "${r(this,h)}" to ${r(this,d)}`,o)}};const _={default:10,containers:10,images:10,volumes:10,networks:10,stacks:10},$=new W("arcane-table-page-sizes",_,{storage:"local",syncTabs:!0}),U={getPageSize:e=>$.current[e]||10,setPageSize:(e,t)=>{$.current={...$.current,[e]:t}}};export{U as t};
