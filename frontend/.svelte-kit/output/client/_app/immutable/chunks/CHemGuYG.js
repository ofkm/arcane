import"./zguDtZw-.js";import{t as o}from"./BJCWvCOq.js";import"./CWlk9DSI.js";function i(t){if(!t)return"Unknown error";if(t.response&&t.response.data){if(typeof t.response.data=="string")return t.response.data;if(t.response.data.error)return t.response.data.error}return t.body&&t.body.error?t.body.error:t.error?t.error:t.reason?t.reason:t.stderr?t.stderr:t.data&&typeof t.data=="string"?t.data:t.message?t.message:JSON.stringify(t)}function c({result:t,message:a,setLoadingState:n=()=>{},onSuccess:r,onError:e=()=>{}}){if(n(!0),t.error){const s=i(t.error);console.error(`API Error: ${a}:`,t.error),o.error(`${a}: ${s}`),e(t.error),n(!1)}else r(t.data),n(!1)}async function p(t){try{return{data:await t,error:null}}catch(a){return{data:null,error:a}}}export{c as h,p as t};
