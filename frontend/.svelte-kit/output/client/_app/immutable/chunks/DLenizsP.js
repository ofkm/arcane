var Nt=Object.defineProperty;var At=Object.getPrototypeOf;var It=Reflect.get;var je=r=>{throw TypeError(r)};var Ct=(r,e,t)=>e in r?Nt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var y=(r,e,t)=>Ct(r,typeof e!="symbol"?e+"":e,t),Re=(r,e,t)=>e.has(r)||je("Cannot "+t);var u=(r,e,t)=>(Re(r,e,"read from private field"),t?t.call(r):e.get(r)),d=(r,e,t)=>e.has(r)?je("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),A=(r,e,t,n)=>(Re(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),V=(r,e,t)=>(Re(r,e,"access private method"),t);var Ge=(r,e,t)=>It(At(r),t,e);import{o as I,c as x,a as F,m as Ot,u as Dt}from"./zguDtZw-.js";import{D as Ze,T as Lt,C as xt,a$ as Ft,o as Pt,R as Rt,a2 as kt,a1 as Mt,a4 as _t,a3 as Bt,K as Z,g as b,e as E,b as W,i as ne,L as Ut,u as se,d as Vt,p as H,f as P,a as z,n as j,b0 as Kt,at as Wt,k as qt}from"./SIFgIYqZ.js";import{s as G}from"./CCdH-GF7.js";import{i as rt,p as T}from"./D4OMRqmI.js";import{w as O,A as xe,b as v,e as X,B as Ht}from"./BAOWbDue.js";import{C as nt,n as N,f as zt,T as jt}from"./BVjinSze.js";import{u as it}from"./CnMg5bH0.js";import{i as oe}from"./Hi6OfGhB.js";function Gt(r,e,t){Ze&&Lt();var n=r,i=Bt,s,o=xt()?Ft:Pt;Rt(()=>{o(i,i=e())&&(s&&kt(s),s=Mt(()=>t(n)))}),Ze&&(n=_t)}var D,L,R,Y,ve;const He=class He extends Map{constructor(t){super();d(this,Y);d(this,D,new Map);d(this,L,Z(0));d(this,R,Z(0));if(t){for(var[n,i]of t)super.set(n,i);u(this,R).v=super.size}}has(t){var n=u(this,D),i=n.get(t);if(i===void 0){var s=super.get(t);if(s!==void 0)i=Z(0),n.set(t,i);else return b(u(this,L)),!1}return b(i),!0}forEach(t,n){V(this,Y,ve).call(this),super.forEach(t,n)}get(t){var n=u(this,D),i=n.get(t);if(i===void 0){var s=super.get(t);if(s!==void 0)i=Z(0),n.set(t,i);else{b(u(this,L));return}}return b(i),super.get(t)}set(t,n){var l;var i=u(this,D),s=i.get(t),o=super.get(t),a=super.set(t,n),c=u(this,L);if(s===void 0)i.set(t,Z(0)),E(u(this,R),super.size),oe(c);else if(o!==n){oe(s);var h=c.reactions===null?null:new Set(c.reactions),g=h===null||!((l=s.reactions)!=null&&l.every(w=>h.has(w)));g&&oe(c)}return a}delete(t){var n=u(this,D),i=n.get(t),s=super.delete(t);return i!==void 0&&(n.delete(t),E(u(this,R),super.size),E(i,-1),oe(u(this,L))),s}clear(){if(super.size!==0){super.clear();var t=u(this,D);E(u(this,R),0);for(var n of t.values())E(n,-1);oe(u(this,L)),t.clear()}}keys(){return b(u(this,L)),super.keys()}values(){return V(this,Y,ve).call(this),super.values()}entries(){return V(this,Y,ve).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return b(u(this,R)),super.size}};D=new WeakMap,L=new WeakMap,R=new WeakMap,Y=new WeakSet,ve=function(){b(u(this,L));var t=u(this,D);if(u(this,R).v!==t.size)for(var n of Ge(He.prototype,this,"keys").call(this))t.has(n)||t.set(n,Z(0));for(var[,i]of u(this,D))b(i)};let ke=He;var J;class Zt{constructor(e,t){d(this,J,W(void 0));t!==void 0&&E(u(this,J),t,!0),O(()=>e(),(n,i)=>{E(u(this,J),i,!0)})}get current(){return b(u(this,J))}}J=new WeakMap;function Xt(r){ne(()=>()=>{r()})}function Ue(r,e){return setTimeout(e,r)}function Ve(r){Ut().then(r)}const Yt=1,Jt=9,Qt=11;function Me(r){return xe(r)&&r.nodeType===Yt&&typeof r.nodeName=="string"}function st(r){return xe(r)&&r.nodeType===Jt}function $t(r){var e;return xe(r)&&((e=r.constructor)==null?void 0:e.name)==="VisualViewport"}function er(r){return xe(r)&&r.nodeType!==void 0}function ot(r){return er(r)&&r.nodeType===Qt&&"host"in r}function tr(r,e){var n;if(!r||!e||!Me(r)||!Me(e))return!1;const t=(n=e.getRootNode)==null?void 0:n.call(e);if(r===e||r.contains(e))return!0;if(t&&ot(t)){let i=e;for(;i;){if(r===i)return!0;i=i.parentNode||i.host}}return!1}function Ke(r){return st(r)?r:$t(r)?r.document:(r==null?void 0:r.ownerDocument)??document}function rr(r){var e;return ot(r)?rr(r.host):st(r)?r.defaultView??window:Me(r)?((e=r.ownerDocument)==null?void 0:e.defaultView)??window:window}function nr(r){let e=r.activeElement;for(;e!=null&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}var ue;class We{constructor(e){y(this,"element");d(this,ue,se(()=>this.element.current?this.element.current.getRootNode()??document:document));y(this,"getDocument",()=>Ke(this.root));y(this,"getWindow",()=>this.getDocument().defaultView??window);y(this,"getActiveElement",()=>nr(this.root));y(this,"isActiveElement",e=>e===this.getActiveElement());y(this,"querySelector",e=>this.root?this.root.querySelector(e):null);y(this,"querySelectorAll",e=>this.root?this.root.querySelectorAll(e):[]);y(this,"setTimeout",(e,t)=>this.getWindow().setTimeout(e,t));y(this,"clearTimeout",e=>this.getWindow().clearTimeout(e));typeof e=="function"?this.element=v.with(e):this.element=e}get root(){return b(u(this,ue))}set root(e){E(u(this,ue),e)}getElementById(e){return this.root.getElementById(e)}}ue=new WeakMap;const qe=typeof document<"u",Xe=ir();function ir(){var r,e;return qe&&((r=window==null?void 0:window.navigator)==null?void 0:r.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function _e(r){return r instanceof HTMLElement}function sr(r){return r instanceof Element}function bn(r){return r instanceof Element||r instanceof SVGElement}function gn(r){return r.matches(":focus-visible")}function pn(r){return r!==null}function or(r){return r instanceof HTMLInputElement&&"select"in r}function ur(r,e){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function ar(r,e){const t=v(r);function n(s){return e[t.current][s]??t.current}return{state:t,dispatch:s=>{t.current=n(s)}}}function cr(r,e){let t=W(Vt({})),n=W("none");const i=r.current?"mounted":"unmounted",s=new Zt(()=>r.current),{state:o,dispatch:a}=ar(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});O(()=>r.current,()=>{if(!e.current||!(r.current!==s.current))return;const w=b(n),C=de(e.current);r.current?a("MOUNT"):C==="none"||b(t).display==="none"?a("UNMOUNT"):a(s&&w!==C?"ANIMATION_OUT":"UNMOUNT")});function c(l){if(!e.current)return;const w=de(e.current),C=w.includes(l.animationName)||w==="none";l.target===e.current&&C&&a("ANIMATION_END")}function h(l){e.current&&l.target===e.current&&E(n,de(e.current),!0)}O(()=>o.current,()=>{if(!e.current)return;const l=de(e.current);E(n,o.current==="mounted"?l:"none",!0)}),O(()=>e.current,()=>{if(e.current)return E(t,getComputedStyle(e.current),!0),X(I(e.current,"animationstart",h),I(e.current,"animationcancel",c),I(e.current,"animationend",c))});const g=se(()=>["mounted","unmountSuspended"].includes(o.current));return{get current(){return b(g)}}}function de(r){return r&&getComputedStyle(r).animationName||"none"}function yn(r,e){H(e,!0);const t=cr(v.with(()=>e.present),e.ref);var n=x(),i=P(n);{var s=o=>{var a=x(),c=P(a);G(c,()=>e.presence??j,()=>({present:t})),F(o,a)};rt(i,o=>{(e.forceMount||e.present||t.current)&&o(s)})}F(r,n),z()}function lr(r,e){var t=x(),n=P(t);Gt(n,()=>e.children,i=>{var s=x(),o=P(s);G(o,()=>e.children??j),F(i,s)}),F(r,t)}const fr=new nt("BitsConfig");function dr(){const r=new hr(null,{});return fr.getOr(r).opts}class hr{constructor(e,t){y(this,"opts");const n=vr(e,t);this.opts={defaultPortalTo:n(i=>i.defaultPortalTo),defaultLocale:n(i=>i.defaultLocale)}}}function vr(r,e){return t=>v.with(()=>{var s,o;const i=(s=t(e))==null?void 0:s.current;if(i!==void 0)return i;if(r!==null)return(o=t(r.opts))==null?void 0:o.current})}function mr(r,e){return t=>{const n=dr();return v.with(()=>{const i=t();if(i!==void 0)return i;const s=r(n).current;return s!==void 0?s:e})}}const br=mr(r=>r.defaultPortalTo,"body");function wn(r,e){H(e,!0);const t=br(()=>e.to),n=Kt();let i=se(s);function s(){if(!qe||e.disabled)return null;let l=null;return typeof t.current=="string"?l=document.querySelector(t.current):l=t.current,l}let o;function a(){o&&(Dt(o),o=null)}O([()=>b(i),()=>e.disabled],([l,w])=>{if(!l||w){a();return}return o=Ot(lr,{target:l,props:{children:e.children},context:n}),()=>{a()}});var c=x(),h=P(c);{var g=l=>{var w=x(),C=P(w);G(C,()=>e.children??j),F(l,w)};rt(h,l=>{e.disabled&&l(g)})}F(r,c),z()}function ut(r,e,t,n){const i=Array.isArray(e)?e:[e];return i.forEach(s=>r.addEventListener(s,t,n)),()=>{i.forEach(s=>r.removeEventListener(s,t,n))}}class at{constructor(e,t={bubbles:!0,cancelable:!0}){y(this,"eventName");y(this,"options");this.eventName=e,this.options=t}createEvent(e){return new CustomEvent(this.eventName,{...this.options,detail:e})}dispatch(e,t){const n=this.createEvent(t);return e.dispatchEvent(n),n}listen(e,t,n){const i=s=>{t(s)};return I(e,this.eventName,i,n)}}function Ye(r,e=500){let t=null;const n=(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{r(...i)},e)};return n.destroy=()=>{t!==null&&(clearTimeout(t),t=null)},n}function ct(r,e){return r===e||r.contains(e)}function lt(r){return(r==null?void 0:r.ownerDocument)??document}function gr(r,e){const{clientX:t,clientY:n}=r,i=e.getBoundingClientRect();return t<i.left||t>i.right||n<i.top||n>i.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var Q,K,B,$,ee,U,ae,k,ye,ie,ft,we,te,Ee,Se,Te,Ne,ce,dt,Ae,Ie;class pr{constructor(e){d(this,ie);y(this,"opts");d(this,Q);d(this,K);d(this,B,{pointerdown:!1});d(this,$,!1);d(this,ee,!1);d(this,U);d(this,ae);d(this,k,N);d(this,ye,e=>{e.defaultPrevented||this.opts.ref.current&&Ve(()=>{var t,n;!this.opts.ref.current||u(this,Ne).call(this,e.target)||e.target&&!u(this,ee)&&((n=(t=u(this,ae)).current)==null||n.call(t,e))})});d(this,we,e=>{let t=e;t.defaultPrevented&&(t=Je(e)),u(this,Q).current(e)});d(this,te,Ye(e=>{if(!this.opts.ref.current){u(this,k).call(this);return}const t=this.opts.isValidEvent.current(e,this.opts.ref.current)||Sr(e,this.opts.ref.current);if(!u(this,$)||V(this,ie,dt).call(this)||!t){u(this,k).call(this);return}let n=e;if(n.defaultPrevented&&(n=Je(n)),u(this,K).current!=="close"&&u(this,K).current!=="defer-otherwise-close"){u(this,k).call(this);return}e.pointerType==="touch"?(u(this,k).call(this),A(this,k,ut(u(this,U),"click",u(this,we),{once:!0}))):u(this,Q).current(n)},10));d(this,Ee,e=>{u(this,B)[e.type]=!0});d(this,Se,e=>{u(this,B)[e.type]=!1});d(this,Te,()=>{this.opts.ref.current&&A(this,$,Er(this.opts.ref.current))});d(this,Ne,e=>this.opts.ref.current?ct(this.opts.ref.current,e):!1);d(this,ce,Ye(()=>{for(const e in u(this,B))u(this,B)[e]=!1;A(this,$,!1)},20));d(this,Ae,()=>{A(this,ee,!0)});d(this,Ie,()=>{A(this,ee,!1)});y(this,"props",{onfocuscapture:u(this,Ae),onblurcapture:u(this,Ie)});this.opts=e,A(this,K,e.interactOutsideBehavior),A(this,Q,e.onInteractOutside),A(this,ae,e.onFocusOutside),ne(()=>{A(this,U,lt(this.opts.ref.current))});let t=N;const n=()=>{u(this,ce).call(this),globalThis.bitsDismissableLayers.delete(this),u(this,te).destroy(),t()};O([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return Ue(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,u(this,K)),t(),t=V(this,ie,ft).call(this))}),n}),Xt(()=>{u(this,ce).destroy(),globalThis.bitsDismissableLayers.delete(this),u(this,te).destroy(),u(this,k).call(this),t()})}}Q=new WeakMap,K=new WeakMap,B=new WeakMap,$=new WeakMap,ee=new WeakMap,U=new WeakMap,ae=new WeakMap,k=new WeakMap,ye=new WeakMap,ie=new WeakSet,ft=function(){return X(I(u(this,U),"pointerdown",X(u(this,Ee),u(this,Te)),{capture:!0}),I(u(this,U),"pointerdown",X(u(this,Se),u(this,te))),I(u(this,U),"focusin",u(this,ye)))},we=new WeakMap,te=new WeakMap,Ee=new WeakMap,Se=new WeakMap,Te=new WeakMap,Ne=new WeakMap,ce=new WeakMap,dt=function(){return Object.values(u(this,B)).some(Boolean)},Ae=new WeakMap,Ie=new WeakMap;function yr(r){return new pr(r)}function wr(r){return r.findLast(([e,{current:t}])=>t==="close"||t==="ignore")}function Er(r){const e=[...globalThis.bitsDismissableLayers],t=wr(e);if(t)return t[0].opts.ref.current===r;const[n]=e[0];return n.opts.ref.current===r}function Sr(r,e){if("button"in r&&r.button>0)return!1;const t=r.target;return sr(t)?lt(t).documentElement.contains(t)&&!ct(e,t)&&gr(r,e):!1}function Je(r){const e=r.currentTarget,t=r.target;let n;r instanceof PointerEvent?n=new PointerEvent(r.type,r):n=new PointerEvent("pointerdown",r);let i=!1;return new Proxy(n,{get:(o,a)=>a==="currentTarget"?e:a==="target"?t:a==="preventDefault"?()=>{i=!0,typeof o.preventDefault=="function"&&o.preventDefault()}:a==="defaultPrevented"?i:a in o?o[a]:r[a]})}function En(r,e){H(e,!0);let t=T(e,"interactOutsideBehavior",3,"close"),n=T(e,"onInteractOutside",3,N),i=T(e,"onFocusOutside",3,N),s=T(e,"isValidEvent",3,()=>!1);const o=yr({id:v.with(()=>e.id),interactOutsideBehavior:v.with(()=>t()),onInteractOutside:v.with(()=>n()),enabled:v.with(()=>e.enabled),onFocusOutside:v.with(()=>i()),isValidEvent:v.with(()=>s()),ref:e.ref});var a=x(),c=P(a);G(c,()=>e.children??j,()=>({props:o.props})),F(r,a),z()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var Ce,Oe;class Tr{constructor(e){y(this,"opts");y(this,"domContext");d(this,Ce,()=>I(this.domContext.getDocument(),"keydown",u(this,Oe),{passive:!1}));d(this,Oe,e=>{if(e.key!==zt||!Ar(this))return;const t=new KeyboardEvent(e.type,e);e.preventDefault();const n=this.opts.escapeKeydownBehavior.current;n!=="close"&&n!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(t)});this.opts=e,this.domContext=new We(this.opts.ref);let t=N;O(()=>e.enabled.current,n=>(n&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),t=u(this,Ce).call(this)),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}}Ce=new WeakMap,Oe=new WeakMap;function Nr(r){return new Tr(r)}function Ar(r){const e=[...globalThis.bitsEscapeLayers],t=e.findLast(([i,{current:s}])=>s==="close"||s==="ignore");if(t)return t[0]===r;const[n]=e[0];return n===r}function Sn(r,e){H(e,!0);let t=T(e,"escapeKeydownBehavior",3,"close"),n=T(e,"onEscapeKeydown",3,N);Nr({escapeKeydownBehavior:v.with(()=>t()),onEscapeKeydown:v.with(()=>n()),enabled:v.with(()=>e.enabled),ref:e.ref});var i=x(),s=P(i);G(s,()=>e.children??j),F(r,i),z()}const M=v([]);function Ir(){return{add(r){const e=M.current[0];e&&r.id!==e.id&&e.pause(),M.current=Qe(M.current,r),M.current.unshift(r)},remove(r){var e;M.current=Qe(M.current,r),(e=M.current[0])==null||e.resume()},get current(){return M.current}}}function Cr(){let r=W(!1),e=W(!1);return{id:it(),get paused(){return b(r)},get isHandlingFocus(){return b(e)},set isHandlingFocus(t){E(e,t,!0)},pause(){E(r,!0)},resume(){E(r,!1)}}}function Qe(r,e){return[...r].filter(t=>t.id!==e.id)}function Or(r){return r.filter(e=>e.tagName!=="A")}function _(r,{select:e=!1}={}){if(!(r&&r.focus))return;const t=Ke(r);if(t.activeElement===r)return;const n=t.activeElement;r.focus({preventScroll:!0}),r!==n&&or(r)&&e&&r.select()}function Dr(r,{select:e=!1}={},t){const n=t();for(const i of r)if(_(i,{select:e}),t()!==n)return!0}function $e(r,e){for(const t of r)if(!ur(t,e))return t}function ht(r){const e=[],n=Ke(r).createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Lr(r){const e=ht(r),t=$e(e,r),n=$e(e.reverse(),r);return[t,n]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var vt=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],me=vt.join(","),mt=typeof Element>"u",q=mt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,be=!mt&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r==null?void 0:r.ownerDocument},ge=function r(e,t){var n;t===void 0&&(t=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),s=i===""||i==="true",o=s||t&&e&&r(e.parentNode);return o},xr=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},bt=function(e,t,n){if(ge(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(me));return t&&q.call(e,me)&&i.unshift(e),i=i.filter(n),i},gt=function r(e,t,n){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!ge(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),c=a.length?a:o.children,h=r(c,!0,n);n.flatten?i.push.apply(i,h):i.push({scopeParent:o,candidates:h})}else{var g=q.call(o,me);g&&n.filter(o)&&(t||!e.includes(o))&&i.push(o);var l=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),w=!ge(l,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(l&&w){var C=r(l===!0?o.children:l.children,!0,n);n.flatten?i.push.apply(i,C):i.push({scopeParent:o,candidates:C})}else s.unshift.apply(s,o.children)}}return i},pt=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},yt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||xr(e))&&!pt(e)?0:e.tabIndex},Fr=function(e,t){var n=yt(e);return n<0&&t&&!pt(e)?0:n},Pr=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},wt=function(e){return e.tagName==="INPUT"},Rr=function(e){return wt(e)&&e.type==="hidden"},kr=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},Mr=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},_r=function(e){if(!e.name)return!0;var t=e.form||be(e),n=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=Mr(i,e.form);return!s||s===e},Br=function(e){return wt(e)&&e.type==="radio"},Ur=function(e){return Br(e)&&!_r(e)},Vr=function(e){var t,n=e&&be(e),i=(t=n)===null||t===void 0?void 0:t.host,s=!1;if(n&&n!==e){var o,a,c;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!s&&i;){var h,g,l;n=be(i),i=(h=n)===null||h===void 0?void 0:h.host,s=!!((g=i)!==null&&g!==void 0&&(l=g.ownerDocument)!==null&&l!==void 0&&l.contains(i))}}return s},et=function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return n===0&&i===0},Kr=function(e,t){var n=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=q.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(q.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var c=e.parentElement,h=be(e);if(c&&!c.shadowRoot&&i(c)===!0)return et(e);e.assignedSlot?e=e.assignedSlot:!c&&h!==e.ownerDocument?e=h.host:e=c}e=a}if(Vr(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return et(e);return!1},Wr=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var i=t.children.item(n);if(i.tagName==="LEGEND")return q.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},pe=function(e,t){return!(t.disabled||ge(t)||Rr(t)||Kr(t,e)||kr(t)||Wr(t))},Be=function(e,t){return!(Ur(t)||yt(t)<0||!pe(e,t))},qr=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Hr=function r(e){var t=[],n=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,c=Fr(a,o),h=o?r(i.candidates):a;c===0?o?t.push.apply(t,h):t.push(a):n.push({documentOrder:s,tabIndex:c,item:i,isScope:o,content:h})}),n.sort(Pr).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(t)},Tn=function(e,t){t=t||{};var n;return t.getShadowRoot?n=gt([e],t.includeContainer,{filter:Be.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:qr}):n=bt(e,t.includeContainer,Be.bind(null,t)),Hr(n)},Nn=function(e,t){t=t||{};var n;return t.getShadowRoot?n=gt([e],t.includeContainer,{filter:pe.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=bt(e,t.includeContainer,pe.bind(null,t)),n},zr=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return q.call(e,me)===!1?!1:Be(t,e)},jr=vt.concat("iframe").join(","),An=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return q.call(e,jr)===!1?!1:pe(t,e)};const Gr=new at("focusScope.autoFocusOnMount",{bubbles:!1,cancelable:!0}),Zr=new at("focusScope.autoFocusOnDestroy",{bubbles:!1,cancelable:!0}),Xr=new nt("FocusScope");function Yr({id:r,loop:e,enabled:t,onOpenAutoFocus:n,onCloseAutoFocus:i,forceMount:s,ref:o}){const a=Ir(),c=Cr(),h=Xr.getOr({ignoreCloseAutoFocus:!1});let g=null;const l=new We(o);function w(f){if(!(c.paused||!o.current||c.isHandlingFocus)){c.isHandlingFocus=!0;try{const m=f.target;if(!_e(m))return;const p=o.current.contains(m);if(f.type==="focusin")if(p)g=m;else{if(h.ignoreCloseAutoFocus)return;_(g,{select:!0})}else f.type==="focusout"&&!p&&!h.ignoreCloseAutoFocus&&_(g,{select:!0})}finally{c.isHandlingFocus=!1}}}function C(f){if(!g||!o.current)return;let m=!1;for(const p of f){if(p.type==="childList"&&p.removedNodes.length>0)for(const S of p.removedNodes){if(S===g){m=!0;break}if(S.nodeType===Node.ELEMENT_NODE&&S.contains(g)){m=!0;break}}if(m)break}m&&o.current&&!o.current.contains(l.getActiveElement())&&_(o.current)}O([()=>o.current,()=>t.current],([f,m])=>{if(!f||!m)return;const p=X(I(l.getDocument(),"focusin",w),I(l.getDocument(),"focusout",w)),S=new MutationObserver(C);return S.observe(f,{childList:!0,subtree:!0,attributes:!1}),()=>{p(),S.disconnect()}}),O([()=>s.current,()=>o.current],([f,m])=>{if(f)return;const p=l.getActiveElement();return Fe(m,p),()=>{m&&ze(p)}}),O([()=>s.current,()=>o.current,()=>t.current],([f,m])=>{if(!f)return;const p=l.getActiveElement();return Fe(m,p),()=>{m&&ze(p)}});function Fe(f,m){if(f||(f=l.getElementById(r.current)),!f||!t.current)return;if(a.add(c),!f.contains(m)){const S=Gr.createEvent();n.current(S),S.defaultPrevented||Ve(()=>{if(!f)return;Dr(Or(ht(f)),{select:!0},()=>l.getActiveElement())||_(f)})}}function ze(f){var S;const m=Zr.createEvent();(S=i.current)==null||S.call(i,m);const p=h.ignoreCloseAutoFocus;Ue(0,()=>{!m.defaultPrevented&&f&&!p&&_(zr(f)?f:l.getDocument().body,{select:!0}),a.remove(c)})}function St(f){if(!t.current||!e.current&&!t.current||c.paused)return;const m=f.key===jt&&!f.ctrlKey&&!f.altKey&&!f.metaKey,p=l.getActiveElement();if(!(m&&p))return;const S=o.current;if(!S)return;const[fe,Pe]=Lr(S);fe&&Pe?!f.shiftKey&&p===Pe?(f.preventDefault(),e.current&&_(fe,{select:!0})):f.shiftKey&&p===fe&&(f.preventDefault(),e.current&&_(Pe,{select:!0})):p===S&&f.preventDefault()}const Tt=se(()=>({id:r.current,tabindex:-1,onkeydown:St}));return{get props(){return b(Tt)}}}function In(r,e){H(e,!0);let t=T(e,"trapFocus",3,!1),n=T(e,"loop",3,!1),i=T(e,"onCloseAutoFocus",3,N),s=T(e,"onOpenAutoFocus",3,N),o=T(e,"forceMount",3,!1);const a=Yr({enabled:v.with(()=>t()),loop:v.with(()=>n()),onCloseAutoFocus:v.with(()=>i()),onOpenAutoFocus:v.with(()=>s()),id:v.with(()=>e.id),forceMount:v.with(()=>o()),ref:e.ref});var c=x(),h=P(c);G(h,()=>e.focusScope??j,()=>({props:a.props})),F(r,c),z()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var re,De,Et,Le,le;class Jr{constructor(e){d(this,De);y(this,"opts");y(this,"domContext");d(this,re,N);d(this,Le,e=>{const t=this.opts.ref.current,n=e.target;!_e(t)||!_e(n)||!this.opts.enabled.current||!en(this)||!tr(t,n)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&A(this,re,$r(t,this.domContext.getDocument().body)))});d(this,le,()=>{u(this,re).call(this),A(this,re,N)});this.opts=e,this.domContext=new We(e.ref);let t=N;O(()=>this.opts.enabled.current,n=>(n&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),t(),t=V(this,De,Et).call(this)),()=>{t(),u(this,le).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}}re=new WeakMap,De=new WeakSet,Et=function(){return X(I(this.domContext.getDocument(),"pointerdown",u(this,Le)),I(this.domContext.getDocument(),"pointerup",Ht(u(this,le),this.opts.onPointerUp.current)))},Le=new WeakMap,le=new WeakMap;function Qr(r){return new Jr(r)}const tt=r=>r.style.userSelect||r.style.webkitUserSelect;function $r(r,e){const t=tt(e),n=tt(r);return he(e,"none"),he(r,"text"),()=>{he(e,t),he(r,n)}}function he(r,e){r.style.userSelect=e,r.style.webkitUserSelect=e}function en(r){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const t=e.at(-1);return t?t[0]===r:!1}function Cn(r,e){H(e,!0);let t=T(e,"preventOverflowTextSelection",3,!0),n=T(e,"onPointerDown",3,N),i=T(e,"onPointerUp",3,N);Qr({id:v.with(()=>e.id),onPointerDown:v.with(()=>n()),onPointerUp:v.with(()=>i()),enabled:v.with(()=>e.enabled&&t()),ref:e.ref});var s=x(),o=P(s);G(o,()=>e.children??j),F(r,s),z()}function tn(r){let e=0,t=W(void 0),n;function i(){e-=1,n&&e<=0&&(n(),E(t,void 0),n=void 0)}return(...s)=>(e+=1,b(t)===void 0&&(n=Wt(()=>{E(t,r(...s),!0)})),ne(()=>()=>{i()}),b(t))}const rn=tn(()=>{const r=new ke,e=se(()=>{for(const s of r.values())if(s)return!0;return!1});let t=W(null),n=null;function i(){qe&&(document.body.setAttribute("style",b(t)??""),document.body.style.removeProperty("--scrollbar-width"),Xe&&(n==null||n()))}return ne(()=>{const s=b(e);return qt(()=>{if(!s)return;E(t,document.body.getAttribute("style"),!0);const o=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,h={padding:Number.parseInt(o.paddingRight??"0",10)+a,margin:Number.parseInt(o.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${h.padding}px`,document.body.style.marginRight=`${h.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),Xe&&(n=ut(document,"touchmove",g=>{g.target===document.documentElement&&(g.touches.length>1||g.preventDefault())},{passive:!1})),Ve(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})})}),ne(()=>()=>{n==null||n()}),{get map(){return r},resetBodyStyle:i}});function nn(r,e=()=>null){const t=it(),n=rn();if(!n)return;const i=se(e);n.map.set(t,r??!1);const s=v.with(()=>n.map.get(t)??!1,o=>n.map.set(t,o));return ne(()=>()=>{n.map.delete(t),!sn(n.map)&&(b(i)===null?requestAnimationFrame(()=>n.resetBodyStyle()):Ue(b(i),()=>n.resetBodyStyle()))}),s}function sn(r){for(const[e,t]of r)if(t)return!0;return!1}function On(r,e){H(e,!0);let t=T(e,"preventScroll",3,!0),n=T(e,"restoreScrollDelay",3,null);nn(t(),()=>n()),z()}export{at as C,We as D,Sn as E,Xr as F,wn as P,ke as S,Cn as T,Ke as a,_e as b,qe as c,zr as d,An as e,Nn as f,rr as g,Ve as h,sr as i,Dr as j,bn as k,gn as l,yn as m,In as n,Xt as o,En as p,On as q,Zt as r,Xe as s,Tn as t,Ue as u,pn as v};
