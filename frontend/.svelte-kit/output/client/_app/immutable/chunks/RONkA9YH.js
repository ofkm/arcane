import{g as i,u as T,b as v,e as b}from"./SIFgIYqZ.js";import{o as g}from"./zguDtZw-.js";import{w,e as E}from"./BAOWbDue.js";import{g as A,a as M,i as C,b as G}from"./DLenizsP.js";import{b as R}from"./B2ByiyBM.js";function X(e){const r=T(()=>e.enabled()),t=R(!1,{afterMs:e.transitTimeout??300,onChange:s=>{var a;i(r)&&((a=e.setIsPointerInTransit)==null||a.call(e,s))},getWindow:()=>A(e.triggerNode())});let n=v(null);function c(){b(n,null),t.current=!1}function o(s,a){const l=s.currentTarget;if(!G(l))return;const u={x:s.clientX,y:s.clientY},y=H(u,l.getBoundingClientRect()),f=k(u,y),x=I(a.getBoundingClientRect()),h=L([...f,...x]);b(n,h,!0),t.current=!0}return w([e.triggerNode,e.contentNode,e.enabled],([s,a,l])=>{if(!s||!a||!l)return;const u=f=>{o(f,a)},y=f=>{o(f,s)};return E(g(s,"pointerleave",u),g(a,"pointerleave",y))}),w(()=>i(n),()=>{const s=l=>{var h,m;if(!i(n))return;const u=l.target;if(!C(u))return;const y={x:l.clientX,y:l.clientY},f=((h=e.triggerNode())==null?void 0:h.contains(u))||((m=e.contentNode())==null?void 0:m.contains(u)),x=!j(y,i(n));f?c():x&&(c(),e.onPointerExit())},a=M(e.triggerNode()??e.contentNode());if(a)return g(a,"pointermove",s)}),{isPointerInTransit:t}}function H(e,r){const t=Math.abs(r.top-e.y),n=Math.abs(r.bottom-e.y),c=Math.abs(r.right-e.x),o=Math.abs(r.left-e.x);switch(Math.min(t,n,c,o)){case o:return"left";case c:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function k(e,r,t=5){const n=t*1.5;switch(r){case"top":return[{x:e.x-t,y:e.y+t},{x:e.x,y:e.y-n},{x:e.x+t,y:e.y+t}];case"bottom":return[{x:e.x-t,y:e.y-t},{x:e.x,y:e.y+n},{x:e.x+t,y:e.y-t}];case"left":return[{x:e.x+t,y:e.y-t},{x:e.x-n,y:e.y},{x:e.x+t,y:e.y+t}];case"right":return[{x:e.x-t,y:e.y-t},{x:e.x+n,y:e.y},{x:e.x-t,y:e.y+t}]}}function I(e){const{top:r,right:t,bottom:n,left:c}=e;return[{x:c,y:r},{x:t,y:r},{x:t,y:n},{x:c,y:n}]}function j(e,r){const{x:t,y:n}=e;let c=!1;for(let o=0,s=r.length-1;o<r.length;s=o++){const a=r[o].x,l=r[o].y,u=r[s].x,y=r[s].y;l>n!=y>n&&t<(u-a)*(n-l)/(y-l)+a&&(c=!c)}return c}function L(e){const r=e.slice();return r.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),N(r)}function N(e){if(e.length<=1)return e.slice();const r=[];for(let n=0;n<e.length;n++){const c=e[n];for(;r.length>=2;){const o=r[r.length-1],s=r[r.length-2];if((o.x-s.x)*(c.y-s.y)>=(o.y-s.y)*(c.x-s.x))r.pop();else break}r.push(c)}r.pop();const t=[];for(let n=e.length-1;n>=0;n--){const c=e[n];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(c.y-s.y)>=(o.y-s.y)*(c.x-s.x))t.pop();else break}t.push(c)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}export{X as u};
