import{c as $,a as r,f as p,s as ae}from"./zguDtZw-.js";import{p as oe,f as o,n as le,a as ne,c as e,r as t,s as u,h as O,t as Ee,g as se,u as Ge,w as Je}from"./SIFgIYqZ.js";import{s as de,r as ve,p as Ce,i as V}from"./D4OMRqmI.js";import{c as b}from"./BmbK19Nn.js";import{I as ce,s as ue,a as Ne}from"./CCdH-GF7.js";import{R as be,T as $e,a as we,P as ye}from"./CL-Amk4I.js";import{C as Ke}from"./Tgwv_1ap.js";import{C as ze}from"./CMCUU1X7.js";import{T as Ue}from"./BHXAfpfV.js";import{L as Ie}from"./BjTWgG3-.js";function Xe(D,a){oe(a,!0);let s=ve(a,["$$slots","$$events","$$legacy"]);const C=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];ce(D,de({name:"calendar"},()=>s,{get iconNode(){return C},children:(N,X)=>{var m=$(),k=o(m);ue(k,()=>a.children??le),r(N,m)},$$slots:{default:!0}})),ne()}function je(D,a){oe(a,!0);let s=ve(a,["$$slots","$$events","$$legacy"]);const C=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m16 12-4-4-4 4"}],["path",{d:"M12 16V8"}]];ce(D,de({name:"circle-arrow-up"},()=>s,{get iconNode(){return C},children:(N,X)=>{var m=$(),k=o(m);ue(k,()=>a.children??le),r(N,m)},$$slots:{default:!0}})),ne()}function Te(D,a){oe(a,!0);let s=ve(a,["$$slots","$$events","$$legacy"]);const C=[["path",{d:"M12 2a10 10 0 0 1 7.38 16.75"}],["path",{d:"m16 12-4-4-4 4"}],["path",{d:"M12 16V8"}],["path",{d:"M2.5 8.875a10 10 0 0 0-.5 3"}],["path",{d:"M2.83 16a10 10 0 0 0 2.43 3.4"}],["path",{d:"M4.636 5.235a10 10 0 0 1 .891-.857"}],["path",{d:"M8.644 21.42a10 10 0 0 0 7.631-.38"}]];ce(D,de({name:"circle-fading-arrow-up"},()=>s,{get iconNode(){return C},children:(N,X)=>{var m=$(),k=o(m);ue(k,()=>a.children??le),r(N,m)},$$slots:{default:!0}})),ne()}function Ze(D,a){oe(a,!0);let s=ve(a,["$$slots","$$events","$$legacy"]);const C=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"}],["path",{d:"M12 22V12"}],["polyline",{points:"3.29 7 12 12 20.71 7"}],["path",{d:"m7.5 4.27 9 5.15"}]];ce(D,de({name:"package"},()=>s,{get iconNode(){return C},children:(N,X)=>{var m=$(),k=o(m);ue(k,()=>a.children??le),r(N,m)},$$slots:{default:!0}})),ne()}var et=p('<span class="inline-flex items-center justify-center align-middle mr-2 size-4"><!></span>'),tt=p('<div class="flex items-center justify-center w-8 h-8 rounded-full bg-green-500/10 border border-green-500/20"><!></div> <div><div class="font-semibold text-sm">Up to Date</div> <div class="text-xs text-muted-foreground">No updates available</div></div>',1),rt=p('<div class="flex items-center justify-center w-8 h-8 rounded-full bg-yellow-500/10 border border-yellow-500/20"><!></div> <div><div class="font-semibold text-sm">Update Available</div> <div class="text-xs text-yellow-600 dark:text-yellow-400 flex items-center gap-1"><!> Not yet matured</div></div>',1),at=p('<div class="flex items-center justify-center w-8 h-8 rounded-full bg-blue-500/10 border border-blue-500/20"><!></div> <div><div class="font-semibold text-sm">Stable Update</div> <div class="text-xs text-blue-600 dark:text-blue-400">Recommended for update</div></div>',1),st=p('<div class="mt-1 text-xs text-amber-600 dark:text-amber-400 leading-relaxed">Consider waiting for the update to mature before upgrading.</div>'),ot=p('<div class="mt-1 text-xs text-gray-600 dark:text-gray-400 leading-relaxed">Verify update stability before proceeding with upgrade.</div>'),nt=p('<div class="space-y-3"><div class="flex items-center gap-3 pb-2 border-b border-border"><!></div> <div class="grid gap-2 text-xs"><div class="flex items-center justify-between"><div class="flex items-center gap-1.5 text-muted-foreground"><!> <span>Version</span></div> <span class="font-mono font-medium"> </span></div> <div class="flex items-center justify-between"><div class="flex items-center gap-1.5 text-muted-foreground"><!> <span>Released</span></div> <span class="font-medium"> </span></div> <div class="flex items-center justify-between"><div class="flex items-center gap-1.5 text-muted-foreground"><!> <span>Status</span></div> <span> </span></div> <div class="flex items-center justify-between"><div class="flex items-center gap-1.5 text-muted-foreground"><span>Priority</span></div> <span> </span></div></div> <div class="pt-2 border-t border-border"><div class="text-xs text-muted-foreground leading-relaxed"> </div> <!></div></div>'),it=p("<!> <!>",1),lt=p('<span class="inline-flex items-center justify-center align-middle mr-2 size-4"><!></span>'),dt=p('<div class="flex items-center gap-2"><!> <div><div class="text-sm font-medium">Checking Updates</div> <div class="text-xs text-muted-foreground">Querying registry for latest version...</div></div></div>'),vt=p("<!> <!>",1),ct=p('<span class="inline-flex items-center justify-center mr-2 opacity-30 size-4"><div class="w-4 h-4 rounded-full border-2 border-gray-400 border-dashed flex items-center justify-center"><div class="w-1.5 h-1.5 bg-gray-400 rounded-full"></div></div></span>'),ut=p('<div class="flex items-center gap-2"><div class="flex items-center justify-center w-6 h-6 rounded-full bg-muted border border-border"><!></div> <div><div class="text-sm font-medium">Status Unknown</div> <div class="text-xs text-muted-foreground leading-relaxed">Unable to determine maturity status. Registry may be unavailable or rate-limited.</div></div></div>'),ft=p("<!> <!>",1);function Mt(D,a){oe(a,!0);let s=Ce(a,"maturity",3,void 0),C=Ce(a,"isLoadingInBackground",3,!1);function N(n){if(!n||n==="Unknown date"||n==="Invalid date")return"Unknown";try{const z=new Date(n);if(isNaN(z.getTime()))return"Unknown";const w=new Date,Y=z.getTime()-w.getTime(),d=Math.floor(Y/(1e3*60*60*24)),f=Math.abs(d);if(f===0){const i=Math.floor(Math.abs(Y)/36e5);return i===0?"Now":Y>0?`In ${i} hours`:`${i} hours ago`}if(Y>0){if(d===1)return"Tomorrow";if(d<7)return`In ${d} days`;if(d<30){const G=Math.floor(d/7);return G===1?"In 1 week":`In ${G} weeks`}const i=new Date(z),L=new Date(w);let y=(i.getFullYear()-L.getFullYear())*12;if(y+=i.getMonth()-L.getMonth(),y<12)return y===1?"In 1 month":`In ${y} months`;const M=Math.floor(y/12),I=y%12;return I===0?M===1?"In 1 year":`In ${M} years`:`In ${M} years, ${I} months`}if(f===1)return"Yesterday";if(f<7)return`${f} days ago`;if(f<30){const i=Math.floor(f/7);return i===1?"1 week ago":`${i} weeks ago`}const F=new Date(z),W=new Date(w);let g=(W.getFullYear()-F.getFullYear())*12;if(g+=W.getMonth()-F.getMonth(),g<12)return g===1?"1 month ago":`${g} months ago`;const U=Math.floor(g/12),E=g%12;return E===0?U===1?"1 year ago":`${U} years ago`:`${U} years, ${E} months ago`}catch{return"Unknown"}}function X(n){switch(n){case"Matured":return"text-green-500";case"Not Matured":return"text-amber-500";case"Unknown":return"text-gray-500";default:return"text-gray-500"}}function m(n){return n.updatesAvailable?n.status==="Matured"?{level:"Recommended",color:"text-blue-500",description:"Stable update available"}:n.status==="Not Matured"?{level:"Optional",color:"text-yellow-500",description:"Recent update, may be unstable"}:{level:"Unknown",color:"text-gray-500",description:"Update status unclear"}:{level:"None",color:"text-green-500",description:"Image is up to date"}}var k=$(),Ae=o(k);{var Re=n=>{var z=$();const w=Ge(()=>m(s()));var Y=o(z);b(Y,()=>ye,(d,f)=>{f(d,{children:(F,W)=>{var g=$(),U=o(g);b(U,()=>be,(E,i)=>{i(E,{children:(L,y)=>{var M=it(),I=o(M);b(I,()=>$e,(j,T)=>{T(j,{children:(H,A)=>{var v=et(),_=e(v);{var Q=c=>{ze(c,{class:"text-green-500 size-4",fill:"none",stroke:"currentColor",strokeWidth:"2"})},l=(c,q)=>{{var Z=S=>{Te(S,{class:"text-yellow-500 size-4",fill:"none",stroke:"currentColor","stroke-width":"2"})},ee=S=>{je(S,{class:"text-blue-500 size-4",fill:"none",stroke:"currentColor","stroke-width":"2"})};V(c,S=>{s().status==="Not Matured"?S(Z):S(ee,!1)},q)}};V(_,c=>{s().updatesAvailable?c(l,!1):c(Q)})}t(v),r(H,v)},$$slots:{default:!0}})});var G=u(I,2);b(G,()=>we,(j,T)=>{T(j,{side:"right",class:"bg-popover text-popover-foreground border border-border shadow-lg p-4 max-w-[280px] relative tooltip-with-arrow maturity-tooltip",align:"center",children:(H,A)=>{var v=nt(),_=e(v),Q=e(_);{var l=x=>{var R=tt(),J=o(R),te=e(J);ze(te,{class:"text-green-500 size-5",fill:"none",stroke:"currentColor",strokeWidth:"2"}),t(J),O(2),r(x,R)},c=(x,R)=>{{var J=B=>{var h=rt(),P=o(h),re=e(P);Te(re,{class:"text-yellow-500 size-5",fill:"none",stroke:"currentColor","stroke-width":"2"}),t(P);var K=u(P,2),ie=u(e(K),2),qe=e(ie);Ue(qe,{class:"size-3"}),O(),t(ie),t(K),r(B,h)},te=B=>{var h=at(),P=o(h),re=e(P);je(re,{class:"text-blue-500 size-5",fill:"none",stroke:"currentColor","stroke-width":"2"}),t(P),O(2),r(B,h)};V(x,B=>{s().status==="Not Matured"?B(J):B(te,!1)},R)}};V(Q,x=>{s().updatesAvailable?x(c,!1):x(l)})}t(_);var q=u(_,2),Z=e(q),ee=e(Z),S=e(ee);Ze(S,{class:"size-3"}),O(2),t(ee);var ke=u(ee,2),Ye=e(ke,!0);t(ke),t(Z);var fe=u(Z,2),pe=e(fe),Fe=e(pe);Xe(Fe,{class:"size-3"}),O(2),t(pe);var Me=u(pe,2),Le=e(Me,!0);t(Me),t(fe);var me=u(fe,2),ge=e(me),Se=e(ge);Ke(Se,{class:"size-3"}),O(2),t(ge);var _e=u(ge,2),Be=e(_e,!0);t(_e),t(me);var Pe=u(me,2),xe=u(e(Pe),2),Oe=e(xe,!0);t(xe),t(Pe),t(q);var De=u(q,2),he=e(De),We=e(he,!0);t(he);var He=u(he,2);{var Qe=x=>{var R=$(),J=o(R);{var te=h=>{var P=st();r(h,P)},B=(h,P)=>{{var re=K=>{var ie=ot();r(K,ie)};V(h,K=>{se(w).level==="Unknown"&&K(re)},P)}};V(J,h=>{se(w).level==="Optional"?h(te):h(B,!1)})}r(x,R)};V(He,x=>{s().updatesAvailable&&x(Qe)})}t(De),t(v),Ee((x,R)=>{ae(Ye,s().version||"Unknown"),ae(Le,x),Ne(_e,1,`font-medium ${R??""}`),ae(Be,s().status||"Unknown"),Ne(xe,1,`font-medium ${se(w).color??""}`),ae(Oe,se(w).level),ae(We,se(w).description)},[()=>N(s().date),()=>X(s().status)]),r(H,v)},$$slots:{default:!0}})}),r(L,M)},$$slots:{default:!0}})}),r(F,g)},$$slots:{default:!0}})}),r(n,z)},Ve=(n,z)=>{{var w=d=>{var f=$(),F=o(f);b(F,()=>ye,(W,g)=>{g(W,{children:(U,E)=>{var i=$(),L=o(i);b(L,()=>be,(y,M)=>{M(y,{children:(I,G)=>{var j=vt(),T=o(j);b(T,()=>$e,(A,v)=>{v(A,{children:(_,Q)=>{var l=lt(),c=e(l);Ie(c,{class:"text-blue-400 size-4 animate-spin"}),t(l),r(_,l)},$$slots:{default:!0}})});var H=u(T,2);b(H,()=>we,(A,v)=>{v(A,{side:"right",class:"bg-popover text-popover-foreground border border-border shadow-lg p-3 max-w-[220px] relative tooltip-with-arrow",align:"center",children:(_,Q)=>{var l=dt(),c=e(l);Ie(c,{class:"text-blue-400 size-4 animate-spin"}),O(2),t(l),r(_,l)},$$slots:{default:!0}})}),r(I,j)},$$slots:{default:!0}})}),r(U,i)},$$slots:{default:!0}})}),r(d,f)},Y=d=>{var f=$(),F=o(f);b(F,()=>ye,(W,g)=>{g(W,{children:(U,E)=>{var i=$(),L=o(i);b(L,()=>be,(y,M)=>{M(y,{children:(I,G)=>{var j=ft(),T=o(j);b(T,()=>$e,(A,v)=>{v(A,{children:(_,Q)=>{var l=ct();r(_,l)},$$slots:{default:!0}})});var H=u(T,2);b(H,()=>we,(A,v)=>{v(A,{side:"right",class:"bg-popover text-popover-foreground border border-border shadow-lg p-3 max-w-[240px] relative tooltip-with-arrow",align:"center",children:(_,Q)=>{var l=ut(),c=e(l),q=e(c);Ue(q,{class:"text-muted-foreground size-3"}),t(c),O(2),t(l),r(_,l)},$$slots:{default:!0}})}),r(I,j)},$$slots:{default:!0}})}),r(U,i)},$$slots:{default:!0}})}),r(d,f)};V(n,d=>{C()?d(w):d(Y,!1)},z)}};V(Ae,n=>{s()?n(Re):n(Ve,!1)})}r(D,k),ne()}const pt={lastChecked:null,maturityData:{},isChecking:!1},Pt=Je(pt);export{Mt as M,Pt as m};
