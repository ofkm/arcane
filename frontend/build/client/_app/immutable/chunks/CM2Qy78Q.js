import{b as h}from"./BAOWbDue.js";import{g as K,a as S}from"./iOXoOfm2.js";import{c as v}from"./DLenizsP.js";import{E as D,H as E,A as g,a as F,b as R,c as W}from"./BVjinSze.js";function q(t){const n=h(null);function u(){return v?t.rootNode.current?t.candidateSelector?Array.from(t.rootNode.current.querySelectorAll(t.candidateSelector)):t.candidateAttr?Array.from(t.rootNode.current.querySelectorAll(`[${t.candidateAttr}]:not([data-disabled])`)):[]:[]:[]}function x(){var r;const e=u();e.length&&((r=e[0])==null||r.focus())}function N(e,r,d=!1){var A;const f=t.rootNode.current;if(!f||!e)return;const c=u();if(!c.length)return;const a=c.indexOf(e),I=K(f),{nextKey:l,prevKey:m}=S(I,t.orientation.current),y=t.loop.current,s={[l]:a+1,[m]:a-1,[E]:0,[D]:c.length-1};if(d){const O=l===g?F:g,T=m===R?W:R;s[O]=a+1,s[T]=a-1}let i=s[r.key];if(i===void 0)return;r.preventDefault(),i<0&&y?i=c.length-1:i===c.length&&y&&(i=0);const o=c[i];if(o)return o.focus(),n.current=o.id,(A=t.onCandidateFocus)==null||A.call(t,o),o}function b(e){const r=u(),d=n.current!==null;return e&&!d&&r[0]===e?(n.current=e.id,0):(e==null?void 0:e.id)===n.current?0:-1}return{setCurrentTabStopId(e){n.current=e},getTabIndex:b,handleKeydown:N,focusFirstCandidate:x,currentTabStopId:n}}export{q as u};
