import{w as n,v as o}from"./SIFgIYqZ.js";function a(t){if(t===null||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if(Array.isArray(t))return t.map(e=>a(e));const r={};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=a(t[e]));return r}const s=n({dockerHost:"",stacksDirectory:"",autoUpdate:!1,autoUpdateInterval:60,pollingEnabled:!1,pollingInterval:10,pruneMode:"all",registryCredentials:[],templateRegistries:[],auth:{localAuthEnabled:!0,oidcEnabled:!1,sessionTimeout:30,passwordPolicy:"strong",rbacEnabled:!1},maturityThresholdDays:30});function c(t){const r=a(t);s.update(e=>({...e,...r,auth:{...e.auth||{},...r.auth||{}}}))}function i(){return o(s)}async function u(){try{const t=i(),r=await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const e=await r.json();throw new Error(e.error||`HTTP error! status: ${r.status}`)}return!0}catch(t){throw console.error("Failed to save settings:",t),t}}export{s as a,u as s,c as u};
