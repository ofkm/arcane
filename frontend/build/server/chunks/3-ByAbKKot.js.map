{"version":3,"file":"3-ByAbKKot.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/3.js"],"sourcesContent":["import { l as listContainers } from \"../../chunks/container-service.js\";\nimport { a as getDockerInfo } from \"../../chunks/core.js\";\nimport { l as listImages, d as isImageInUse, i as imageMaturityDb, b as checkImageMaturity } from \"../../chunks/image-service.js\";\nimport { g as getSettings } from \"../../chunks/settings-service.js\";\nconst load = async () => {\n  try {\n    const [dockerInfo, containersData, imagesData, settings] = await Promise.all([\n      getDockerInfo().catch((e) => {\n        console.error(\"Dashboard: Failed to get Docker info:\", e.message);\n        return null;\n      }),\n      listContainers(true).catch((e) => {\n        console.error(\"Dashboard: Failed to list containers:\", e.message);\n        return [];\n      }),\n      listImages().catch((e) => {\n        console.error(\"Dashboard: Failed to list images:\", e.message);\n        return [];\n      }),\n      getSettings().catch((e) => {\n        console.error(\"Dashboard: Failed to get settings:\", e.message);\n        return null;\n      })\n    ]);\n    const enhancedImages = await Promise.all(\n      imagesData.map(async (image) => {\n        const inUse = await isImageInUse(image.Id);\n        const record = await imageMaturityDb.getImageMaturity(image.Id);\n        let maturity = record ? imageMaturityDb.recordToImageMaturity(record) : void 0;\n        if (maturity === void 0) {\n          try {\n            if (image.repo !== \"<none>\" && image.tag !== \"<none>\") {\n              maturity = await checkImageMaturity(image.Id);\n            }\n          } catch (maturityError) {\n            console.error(`Dashboard: Failed to check maturity for image ${image.Id}:`, maturityError);\n            maturity = void 0;\n          }\n        }\n        return {\n          ...image,\n          inUse,\n          maturity\n        };\n      })\n    );\n    if (!dockerInfo) {\n      return {\n        dockerInfo: null,\n        containers: [],\n        images: enhancedImages,\n        settings: settings ? { pruneMode: settings.pruneMode } : null,\n        error: \"Failed to connect to Docker Engine. Please check settings and ensure Docker is running.\"\n      };\n    }\n    return {\n      dockerInfo,\n      containers: containersData,\n      images: enhancedImages,\n      settings: settings ? { pruneMode: settings.pruneMode } : null\n    };\n  } catch (err) {\n    console.error(\"Dashboard: Unexpected error loading data:\", err);\n    return {\n      dockerInfo: null,\n      containers: [],\n      images: [],\n      // Return empty EnhancedImageInfo array on error\n      settings: null,\n      error: err.message || \"An unexpected error occurred while loading dashboard data.\"\n    };\n  }\n};\nexport {\n  load\n};\n","import * as server from '../entries/pages/_page.server.ts.js';\n\nexport const index = 3;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/3.DCryZd64.js\",\"_app/immutable/chunks/zguDtZw-.js\",\"_app/immutable/chunks/SIFgIYqZ.js\",\"_app/immutable/chunks/hybYrdok.js\",\"_app/immutable/chunks/D4OMRqmI.js\",\"_app/immutable/chunks/BmbK19Nn.js\",\"_app/immutable/chunks/CCdH-GF7.js\",\"_app/immutable/chunks/BUTdIsFV.js\",\"_app/immutable/chunks/C7TZ37ch.js\",\"_app/immutable/chunks/DsjzulNM.js\",\"_app/immutable/chunks/B9HEA4Xl.js\",\"_app/immutable/chunks/B5ui7ZgY.js\",\"_app/immutable/chunks/D2ZQhq98.js\",\"_app/immutable/chunks/BAOWbDue.js\",\"_app/immutable/chunks/Hi6OfGhB.js\",\"_app/immutable/chunks/BVjinSze.js\",\"_app/immutable/chunks/iOXoOfm2.js\",\"_app/immutable/chunks/CnMg5bH0.js\",\"_app/immutable/chunks/CCfxTW1_.js\",\"_app/immutable/chunks/C73rBIzk.js\",\"_app/immutable/chunks/Cz4A3yFi.js\",\"_app/immutable/chunks/BQr-K8qI.js\",\"_app/immutable/chunks/DivMWeKY.js\",\"_app/immutable/chunks/DLenizsP.js\",\"_app/immutable/chunks/B2ByiyBM.js\",\"_app/immutable/chunks/DmpUnYw5.js\",\"_app/immutable/chunks/D1n4spDD.js\",\"_app/immutable/chunks/87Ty6o0e.js\",\"_app/immutable/chunks/CjSQePMv.js\",\"_app/immutable/chunks/CWlk9DSI.js\",\"_app/immutable/chunks/DMiKHtVB.js\",\"_app/immutable/chunks/m9ItHG6J.js\",\"_app/immutable/chunks/iMjrFJrG.js\",\"_app/immutable/chunks/DVaDWjV4.js\",\"_app/immutable/chunks/BR-g04mS.js\",\"_app/immutable/chunks/mAxAJ61f.js\",\"_app/immutable/chunks/CGNubMbN.js\",\"_app/immutable/chunks/BJCWvCOq.js\",\"_app/immutable/chunks/UVnX9grY.js\",\"_app/immutable/chunks/DVI-9q8T.js\",\"_app/immutable/chunks/DUYgD2_s.js\",\"_app/immutable/chunks/BNz4MoZq.js\",\"_app/immutable/chunks/BjTWgG3-.js\",\"_app/immutable/chunks/BhZTThSR.js\",\"_app/immutable/chunks/CX4OS9M0.js\",\"_app/immutable/chunks/CXuQMvfN.js\",\"_app/immutable/chunks/CHemGuYG.js\",\"_app/immutable/chunks/C2kjEBku.js\",\"_app/immutable/chunks/CThrnvRT.js\",\"_app/immutable/chunks/BUdkjQ9d.js\",\"_app/immutable/chunks/XF4Z48D_.js\",\"_app/immutable/chunks/CL-Amk4I.js\",\"_app/immutable/chunks/RONkA9YH.js\",\"_app/immutable/chunks/Tgwv_1ap.js\",\"_app/immutable/chunks/CMCUU1X7.js\",\"_app/immutable/chunks/BHXAfpfV.js\",\"_app/immutable/chunks/xhhyndDT.js\",\"_app/immutable/chunks/CKC8MdI0.js\",\"_app/immutable/chunks/Bh_rBs7G.js\",\"_app/immutable/chunks/CHbZ4NRu.js\",\"_app/immutable/chunks/B877H2_W.js\",\"_app/immutable/chunks/Buz1G913.js\",\"_app/immutable/chunks/B3rBFWl_.js\",\"_app/immutable/chunks/CywCv4nj.js\",\"_app/immutable/chunks/Cm35N4Au.js\",\"_app/immutable/chunks/BZMdbj5w.js\",\"_app/immutable/chunks/Co9IQC3A.js\"];\nexport const stylesheets = [\"_app/immutable/assets/index.CV-KWLNP.css\",\"_app/immutable/assets/Toaster.D7TgzYVC.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}