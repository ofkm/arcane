{"version":3,"file":"_server.ts-BGxOZ1rH.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/templates/registries/_server.ts.js"],"sourcesContent":["import { j as json, e as error } from \"../../../../../chunks/index.js\";\nimport { T as TemplateService } from \"../../../../../chunks/template-service.js\";\nimport { t as templateRegistryService } from \"../../../../../chunks/template-registry-service.js\";\nconst templateService = new TemplateService();\nconst GET = async () => {\n  try {\n    const registries = await templateService.getRegistries();\n    return json(registries);\n  } catch (err) {\n    console.error(\"Error fetching registries:\", err);\n    return error(500, { message: \"Failed to fetch registries\" });\n  }\n};\nconst POST = async ({ request }) => {\n  try {\n    const config = await request.json();\n    if (!config.url || !config.name) {\n      return error(400, { message: \"URL and name are required\" });\n    }\n    const registry = await templateRegistryService.fetchRegistry(config);\n    if (!registry) {\n      return error(400, { message: \"Failed to fetch registry or invalid format\" });\n    }\n    await templateService.addRegistry(config);\n    return json({\n      success: true,\n      message: \"Registry added successfully\",\n      registry: config\n    });\n  } catch (err) {\n    console.error(\"Error adding registry:\", err);\n    return error(500, { message: \"Failed to add registry\" });\n  }\n};\nexport {\n  GET,\n  POST\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAGA,MAAM,eAAe,GAAG,IAAI,eAAe,EAAE;AACxC,MAAC,GAAG,GAAG,YAAY;AACxB,EAAE,IAAI;AACN,IAAI,MAAM,UAAU,GAAG,MAAM,eAAe,CAAC,aAAa,EAAE;AAC5D,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC;AAC3B,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC;AACpD,IAAI,OAAO,KAAK,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;AAChE;AACA;AACK,MAAC,IAAI,GAAG,OAAO,EAAE,OAAO,EAAE,KAAK;AACpC,EAAE,IAAI;AACN,IAAI,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AACvC,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;AACrC,MAAM,OAAO,KAAK,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC;AACjE;AACA,IAAI,MAAM,QAAQ,GAAG,MAAM,uBAAuB,CAAC,aAAa,CAAC,MAAM,CAAC;AACxE,IAAI,IAAI,CAAC,QAAQ,EAAE;AACnB,MAAM,OAAO,KAAK,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,4CAA4C,EAAE,CAAC;AAClF;AACA,IAAI,MAAM,eAAe,CAAC,WAAW,CAAC,MAAM,CAAC;AAC7C,IAAI,OAAO,IAAI,CAAC;AAChB,MAAM,OAAO,EAAE,IAAI;AACnB,MAAM,OAAO,EAAE,6BAA6B;AAC5C,MAAM,QAAQ,EAAE;AAChB,KAAK,CAAC;AACN,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC;AAChD,IAAI,OAAO,KAAK,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;AAC5D;AACA;;;;"}