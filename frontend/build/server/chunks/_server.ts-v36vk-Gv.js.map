{"version":3,"file":"_server.ts-v36vk-Gv.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/stacks/validate/_server.ts.js"],"sourcesContent":["import { j as json } from \"../../../../../chunks/index.js\";\nimport { v as validateComposeConfiguration } from \"../../../../../chunks/compose-validate.utils.js\";\nasync function POST({ request }) {\n  try {\n    const { composeContent, envContent = \"\", mode = \"default\" } = await request.json();\n    if (!composeContent) {\n      return json({ error: \"Compose content is required\" }, { status: 400 });\n    }\n    if (![\"default\", \"strict\", \"loose\"].includes(mode)) {\n      return json({ error: \"Invalid validation mode. Use: default, strict, or loose\" }, { status: 400 });\n    }\n    const validation = await validateComposeConfiguration(composeContent, envContent, mode);\n    return json({\n      ...validation,\n      mode\n    });\n  } catch (error) {\n    console.error(\"Validation error:\", error);\n    return json(\n      {\n        valid: false,\n        errors: [error instanceof Error ? error.message : \"Validation failed\"],\n        warnings: []\n      },\n      { status: 500 }\n    );\n  }\n}\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;AAEA,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AACjC,EAAE,IAAI;AACN,IAAI,MAAM,EAAE,cAAc,EAAE,UAAU,GAAG,EAAE,EAAE,IAAI,GAAG,SAAS,EAAE,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AACtF,IAAI,IAAI,CAAC,cAAc,EAAE;AACzB,MAAM,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,6BAA6B,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAC5E;AACA,IAAI,IAAI,CAAC,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;AACxD,MAAM,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,yDAAyD,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACxG;AACA,IAAI,MAAM,UAAU,GAAG,MAAM,4BAA4B,CAAC,cAAc,EAAE,UAAU,EAAE,IAAI,CAAC;AAC3F,IAAI,OAAO,IAAI,CAAC;AAChB,MAAM,GAAG,UAAU;AACnB,MAAM;AACN,KAAK,CAAC;AACN,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,mBAAmB,EAAE,KAAK,CAAC;AAC7C,IAAI,OAAO,IAAI;AACf,MAAM;AACN,QAAQ,KAAK,EAAE,KAAK;AACpB,QAAQ,MAAM,EAAE,CAAC,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,mBAAmB,CAAC;AAC9E,QAAQ,QAAQ,EAAE;AAClB,OAAO;AACP,MAAM,EAAE,MAAM,EAAE,GAAG;AACnB,KAAK;AACL;AACA;;;;"}